<!DOCTYPE html>
<html>
<head>
      
  <title>OGaml documentation - Index</title>
      
  <meta charset="utf-8">
      
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>
      
  <link rel="stylesheet" href="../css/monokai.css">
      
  <link rel="stylesheet" href="../css/doc.css">
      
  <script src="../script/highlight.pack.js"></script>
      
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
      
  <script src="../script/doc.js"></script>
      
  <script type="text/javascript">hljs.tabReplace = ''; 
   hljs.initHighlightingOnLoad(); 
   window.onload = function() { 
     var aCodes = document.getElementsByTagName('code'); 
     for (var i=0; i < aCodes.length; i++) { 
       hljs.highlightBlock(aCodes[i]); 
     }
   }</script>
      
  <link rel="shortcut icon" type="image/x-icon" href="../img/favicon-ogaml.ico">
      
</head>
<body><aside>
    <header>
    <a href="../index.html">
      <img src="../img/ogaml-logo.svg" alt="OGAML" width="100%">
    </a>
  </header>
    <h1> 
      <a href="../doc/doc.html">Modules</a>
      <span class="showall">Show all</span>
    </h1>
    <ul id="main-nav" style="display: block;">
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlcore.html">OgamlCore</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlcore/ll.html">LL</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlcore/ll/mouse.html">Mouse</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlcore/ll/keyboard.html">Keyboard</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlcore/ll/window.html">Window</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlcore/contextsettings.html">ContextSettings</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlcore/event.html">Event</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlcore/event/buttonevent.html">ButtonEvent</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlcore/event/keyevent.html">KeyEvent</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlcore/keycode.html">Keycode</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlcore/button.html">Button</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics.html">OgamlGraphics</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/keyboard.html">Keyboard</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/mouse.html">Mouse</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/text.html">Text</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/text/fx.html">Fx</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/sprite.html">Sprite</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/shape.html">Shape</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/model.html">Model</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/model/face.html">Face</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/model/vertex.html">Vertex</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/vertexmap.html">VertexMap</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/vertexmap/source.html">Source</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/vertexmap/vertex.html">Vertex</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/vertexarray.html">VertexArray</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/vertexarray/source.html">Source</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/vertexarray/vertex.html">Vertex</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/indexarray.html">IndexArray</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/indexarray/source.html">Source</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/window.html">Window</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/uniform.html">Uniform</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/program.html">Program</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/font.html">Font</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/font/glyph.html">Glyph</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/texture.html">Texture</a>
    <ul style="display: none;">
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/texture/t.html">T</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/texture/texture2darray.html">Texture2DArray</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/texture/texture2darraylayer.html">Texture2DArrayLayer</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/texture/texture2darraymipmap.html">Texture2DArrayMipmap</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/texture/texture2darraylayermipmap.html">Texture2DArrayLayerMipmap</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/texture/texture2d.html">Texture2D</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/texture/texture2dmipmap.html">Texture2DMipmap</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/texture/wrapfunction.html">WrapFunction</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/texture/magnifyfilter.html">MagnifyFilter</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/texture/minifyfilter.html">MinifyFilter</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/image.html">Image</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/framebuffer.html">Framebuffer</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/renderbuffer.html">Renderbuffer</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/renderbuffer/depthstencilbuffer.html">DepthStencilBuffer</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/renderbuffer/stencilbuffer.html">StencilBuffer</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/renderbuffer/depthbuffer.html">DepthBuffer</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/renderbuffer/colorbuffer.html">ColorBuffer</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/attachment.html">Attachment</a>
    <ul style="display: none;">
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/attachment/depthstencilattachable.html">DepthStencilAttachable</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/attachment/stencilattachable.html">StencilAttachable</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/attachment/depthattachable.html">DepthAttachable</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/attachment/colorattachable.html">ColorAttachable</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/attachment/depthstencilattachment.html">DepthStencilAttachment</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/attachment/stencilattachment.html">StencilAttachment</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/attachment/depthattachment.html">DepthAttachment</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/attachment/colorattachment.html">ColorAttachment</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/rendertarget.html">RenderTarget</a>
    <ul style="display: none;">
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/rendertarget/t.html">T</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/context.html">Context</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/drawparameter.html">DrawParameter</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/drawparameter/depthtest.html">DepthTest</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/drawparameter/blendmode.html">BlendMode</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/drawparameter/blendmode/equation.html">Equation</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/drawparameter/blendmode/factor.html">Factor</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/drawparameter/viewport.html">Viewport</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/drawparameter/polygonmode.html">PolygonMode</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/drawparameter/cullingmode.html">CullingMode</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/drawmode.html">DrawMode</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/color.html">Color</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/color/hsv.html">HSV</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlgraphics/color/rgb.html">RGB</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath.html">OgamlMath</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath/matrix2d.html">Matrix2D</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath/matrix3d.html">Matrix3D</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath/quaternion.html">Quaternion</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath/floatbox.html">FloatBox</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath/intbox.html">IntBox</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath/floatrect.html">FloatRect</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath/intrect.html">IntRect</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath/vector3fs.html">Vector3fs</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath/vector2fs.html">Vector2fs</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath/vector3f.html">Vector3f</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath/vector3i.html">Vector3i</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath/vector2f.html">Vector2f</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath/vector2i.html">Vector2i</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlmath/constants.html">Constants</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlutils.html">OgamlUtils</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlutils/graph.html">Graph</a>
    <ul style="display: none;">
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlutils/graph/g.html">G</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlutils/graph/vertex.html">Vertex</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlutils/priorityqueue.html">PriorityQueue</a>
    <ul style="display: none;">
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlutils/priorityqueue/q.html">Q</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlutils/priorityqueue/priority.html">Priority</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlutils/noise.html">Noise</a>
    <ul style="display: none;">
      
      <li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlutils/noise/perlin3d.html">Perlin3D</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlutils/noise/perlin2d.html">Perlin2D</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlutils/interpolator.html">Interpolator</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlutils/utf8string.html">UTF8String</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
<li>
    <span class="arrow-right arrow shownav"></span>
    <a href="../doc/ogamlutils/log.html">Log</a>
    <ul style="display: none;">
      
      
    </ul>
  </li>
    </ul>
  </li>
    </ul>
   </aside>
<main>
     <h1>Welcome on the documentation of OGaml !</h1>

     <h2>Main modules</h2>

     <ul>
<li>
	<p>
		<a href="ogamlcore.html">OgamlCore</a>
	 Base module of OGaml, defines events and low-level window management 
	</p>
</li>
<li>
	<p>
		<a href="ogamlgraphics.html">OgamlGraphics</a>
	 2D and 3D rendering, provides high-level and type-safe wrappers around openGL functions 
	</p>
</li>
<li>
	<p>
		<a href="ogamlmath.html">OgamlMath</a>
	 Mathematical helpers for data manipulation and rendering with OpenGL 
	</p>
</li>
<li>
	<p>
		<a href="ogamlutils.html">OgamlUtils</a>
	 High-level helper functions and data structures 
	</p>
</li>
</ul>

     <h2>Example (triangle)</h2>

     <figure class="highlight">
       <pre>
         <code class="OCaml">(******************************************************************)
(*                                                                *)
(*                     Ogaml Tutorial n°02                        *)
(*                                                                *)
(*                       Hello Triangle                           *)
(*                                                                *)
(******************************************************************)

open OgamlGraphics
open OgamlMath
open OgamlUtils

(* Let's start by creating a log system to the standard output.
 * This is useful to track our program's progress and to print GLSL
 * compilation errors. *)
let log = OgamlUtils.Log.create ()

(* Default context settings *)
let settings = OgamlCore.ContextSettings.create ()

(* Window creation with default settings *)
let window =
  Window.create ~width:800 ~height:600 ~settings ~title:"Tutorial n°02" ()

(* Source of GLSL vertex shader.
 * We do not add a version number as the program preprocessor will
 * add it for us. *)
let vertex_shader_source = "
  in vec3 position;

  void main() {

    gl_Position = vec4(position, 1.0);

  }
"

(* Source of GLSL fragment shader *)
let fragment_shader_source = "
  out vec4 out_color;

  void main() {

    out_color = vec4(1.0, 0.0, 0.0, 1.0);

  }
"

(* Compile the GLSL program from the sources.
 * from_source_pp includes a preprocessor that automatically preprends
 * the best version number to the GLSL sources.
 * We provide our log (as an optional parameter) to get compilation errors. *)
let program =
  Program.from_source_pp
    (module Window)
    ~context:window
    ~log
    ~vertex_source:(`String vertex_shader_source)
    ~fragment_source:(`String fragment_shader_source) ()

(* Create three vertices *)
let vertex1 =
  VertexArray.Vertex.create
    ~position:Vector3f.({x = -0.75; y = -0.75; z = 0.0}) ()

let vertex2 =
  VertexArray.Vertex.create
    ~position:(Vector3f.({x = 0.; y = 0.75; z = 0.0})) ()

let vertex3 =
  VertexArray.Vertex.create
    ~position:Vector3f.({x = 0.75; y = -0.75; z = 0.0}) ()

(* Put the vertices in a vertex source *)
let vertex_source = VertexArray.Source.(
    empty ~position:"position" ~size:3 ()
    << vertex1
    << vertex2
    << vertex3
)

(* Compute and load the VAO (Vertex Array Object) 
 * VAOs need a valid GL context to be properly initialized, which
 * is encapsulated inside any render target (window, render texture, ...).
 * Hence the use of first-class modules to provide some polymorphism. *)
let vertices = VertexArray.static (module Window) window vertex_source

(* Event-listening loop *)
let rec event_loop () =
  (* Polling the window *)
  match Window.poll_event window with
  |Some e -> OgamlCore.Event.(
    match e with
    (* Close the window if requested *)
    |Closed -> Window.close window
    | _     -> event_loop ()
  )
  |None -> ()

(* Main loop *)
let rec main_loop () =
  (* Run while the window is open *)
  if Window.is_open window then begin

    (* Clear the window using white.
     * We do not clear the depth/stencil buffers for such a simple app. *)
    Window.clear 
      ~color:(Some (`RGB Color.RGB.white)) 
      window;

    (* Draw our triangle on the window.
     * The drawing function is polymorphic and the render target must
     * be specified using first-class modules. *)
    VertexArray.draw (module Window) 
      ~target:window 
      ~vertices 
      ~program 
      ~mode:DrawMode.Triangles ();

    (* Update the window renderbuffer *)
    Window.display window;
    (* Get events *)
    event_loop ();
    (* Recursion ! *)
    main_loop ();
  end

(* Let's launch the main loop and admire the result :o) *)
let () = 
  Log.info log "Hello triangle !";
  main_loop ()
</code>
       </pre>
     </figure>
     </main></body>
</html>